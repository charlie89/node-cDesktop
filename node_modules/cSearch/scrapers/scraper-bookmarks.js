var events = require('events');

var Search = function () {
    if(false === (this instanceof Search)) {
        return new Search();
    }
    
    events.EventEmitter.call(this);
}

require('sys').inherits(Search, events.EventEmitter);

Search.prototype.startScraper = function(keyword){
   var self = this;
   var db = require('cBookmarks').db();
   //var db = require('cBookmarks').getDB();   
   var results = db([
      {name: {likenocase: keyword}}, 
      {tags: {likenocase: keyword}},
      {href: {likenocase: keyword}}
   ]).get();   
   //var results = db().get();   
   
   self.emit('data', {type: 'bookmark', value: results});

};

module.exports = Search;